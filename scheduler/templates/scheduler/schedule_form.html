<!-- templates/scheduler/schedule_form.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>Schedule Optimization</title>
    <style>
      button {
        margin: 5px;
      }
      .description {
        margin-top: 20px;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <h1>Schedule Optimization</h1>
    <p>
      Use this form to test various scheduling scenarios against Hours of
      Service (HOS) regulations. Click any of the predefined scenario buttons
      below to auto-fill the form with specific conditions, then submit to see
      if the schedule meets HOS compliance.
    </p>

    <form method="post" id="scheduleForm">
      {% csrf_token %}
      <div>
        <label for="id_pickup_time">Pickup Time:</label>
        <input
          type="text"
          id="id_pickup_time"
          name="pickup_time"
          class="form-control"
        />
      </div>
      <div>
        <label for="id_dropoff_time">Dropoff Time:</label>
        <input
          type="text"
          id="id_dropoff_time"
          name="dropoff_time"
          class="form-control"
        />
      </div>
      <div>
        <label for="id_last_rest_time">Last Rest Time:</label>
        <input
          type="text"
          id="id_last_rest_time"
          name="last_rest_time"
          class="form-control"
        />
      </div>
      <button type="submit">Submit</button>
    </form>

    <!-- Scenario buttons -->
    <div class="description">
      <h2>Test Scenarios:</h2>
      <button onclick="fillForm('validSchedule')">Valid Schedule</button> - A
      typical schedule that complies with all HOS regulations.
      <button onclick="fillForm('exceedsDailyLimit')">
        Exceeds Daily Limit
      </button>
      - Schedule exceeds the 11-hour driving limit.
      <button onclick="fillForm('exceeds14HourWindow')">
        Exceeds 14-Hour Window
      </button>
      - Schedule goes beyond the 14-hour working window from the start of the
      day. <button onclick="fillForm('noViolation')">No Violation</button> - A
      safe scenario with significant buffer under all HOS limits.
      <button onclick="fillForm('violationDetected')">
        Violation Detected
      </button>
      - Multiple violations detected, exceeding both 11-hour and 14-hour limits.
    </div>

    <script>
      function fillForm(scenario) {
        var pickupTime = document.getElementById("id_pickup_time");
        var dropoffTime = document.getElementById("id_dropoff_time");
        var lastRestTime = document.getElementById("id_last_rest_time");

        switch (scenario) {
          case "validSchedule":
            pickupTime.value = "2023-07-10T07:00:00";
            dropoffTime.value = "2023-07-10T18:00:00";
            lastRestTime.value = "2023-07-10T01:00:00";
            break;
          case "exceedsDailyLimit":
            pickupTime.value = "2023-07-10T05:00:00";
            dropoffTime.value = "2023-07-10T17:30:00";
            lastRestTime.value = "2023-07-10T01:00:00";
            break;
          case "exceeds14HourWindow":
            pickupTime.value = "2023-07-10T06:00:00";
            dropoffTime.value = "2023-07-10T21:00:00";
            lastRestTime.value = "2023-07-10T06:00:00";
            break;
          case "noViolation":
            pickupTime.value = "2023-07-10T10:00:00";
            dropoffTime.value = "2023-07-10T19:00:00";
            lastRestTime.value = "2023-07-10T07:00:00";
            break;
          case "violationDetected":
            pickupTime.value = "2023-07-10T06:00:00";
            dropoffTime.value = "2023-07-10T20:00:00";
            lastRestTime.value = "2023-07-10T06:00:00";
            break;
        }
      }
    </script>
  </body>
</html>
